<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Application 6 – ICU Nurse Call System</title>
    <style>
      /* Page background and base layout */
      body {
        margin: 0;
        padding: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
        background: linear-gradient(135deg, #1f3558, #101722);
        color: #111827;
      }

      .page-wrapper {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 24px;
      }

      /* Main card */
      .card {
        background: #f9fafb;
        max-width: 960px;
        width: 100%;
        border-radius: 18px;
        padding: 28px 26px 26px;
        box-shadow:
          0 22px 45px rgba(0, 0, 0, 0.35),
          0 0 0 1px rgba(15, 23, 42, 0.05);
      }

      @media (min-width: 700px) {
        .card {
          padding: 34px 40px 32px;
        }
      }

      /* Header area */
      .badge {
        display: inline-flex;
        align-items: center;
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        padding: 4px 10px;
        border-radius: 999px;
        background: #e0ecff;
        color: #1d4ed8;
        font-weight: 600;
        margin-bottom: 10px;
      }

      h1 {
        margin: 0 0 6px;
        font-size: 26px;
        color: #111827;
      }

      .subtitle {
        margin: 0 0 18px;
        color: #4b5563;
        font-size: 14px;
      }

      .meta-row {
        display: flex;
        flex-wrap: wrap;
        gap: 10px 18px;
        font-size: 12px;
        color: #6b7280;
        margin-bottom: 22px;
      }

      .meta-pill {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 9px;
        border-radius: 999px;
        background: #e5e7eb;
      }

      .dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: #10b981;
      }

      /* Sections */
      h2 {
        margin-top: 26px;
        margin-bottom: 8px;
        font-size: 18px;
        color: #111827;
        border-bottom: 1px solid #e5e7eb;
        padding-bottom: 4px;
      }

      p {
        margin-top: 6px;
        margin-bottom: 10px;
        font-size: 14px;
        color: #374151;
      }

      /* Video */
      .video-wrapper {
        margin-top: 10px;
        border-radius: 14px;
        overflow: hidden;
        background: #000;
        border: 1px solid #d1d5db;
      }

      .video-wrapper iframe {
        width: 100%;
        height: 360px;
        border: 0;
        display: block;
      }

      @media (min-width: 900px) {
        .video-wrapper iframe {
          height: 420px;
        }
      }

      /* Two column layout for overview and details on larger screens */
      .grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 18px;
        margin-top: 8px;
      }

      @media (min-width: 800px) {
        .grid {
          grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
          gap: 26px;
        }
      }

      .section-card {
        background: #ffffff;
        border-radius: 14px;
        padding: 14px 14px 12px;
        border: 1px solid #e5e7eb;
      }

      .section-card h3 {
        margin: 0 0 6px;
        font-size: 15px;
        color: #111827;
      }

      .section-card p {
        margin: 4px 0 6px;
        font-size: 13px;
      }

      .key-roles {
        margin-top: 6px;
        font-size: 13px;
      }

      .key-roles strong {
        color: #111827;
      }

      /* Footer */
      footer {
        margin-top: 26px;
        font-size: 12px;
        color: #6b7280;
        border-top: 1px solid #e5e7eb;
        padding-top: 10px;
      }
    </style>
  </head>

  <body>
    <div class="page-wrapper">
      <main class="card">

        <!-- Header -->
        <div class="badge">Real Time Systems · Application 6</div>
        <h1>ICU Nurse Call System Simulation</h1>
        <p class="subtitle">
          A small real-time ICU-style nurse call system that shows how interrupts, tasks, and shared data
          work together to handle emergencies on time.
        </p>

        <div class="meta-row">
          <div class="meta-pill">
            <span class="dot"></span>
            <span>Event driven emergency button</span>
          </div>
          <div class="meta-pill">Hard and soft real time tasks</div>
          <div class="meta-pill">Interrupts and semaphores</div>
        </div>

        <!-- Video section -->
        <h2>Video Demo</h2>
        <p>
          The video below walks through the nurse call simulation, showing the emergency button,
          task behavior, and how the LEDs respond when the system enters an emergency state.
        </p>

        <div class="video-wrapper">
          <iframe
            src="https://www.youtube.com/embed/Oi0fLByTgjw"
            title="ICU Nurse Call Real Time Demo"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen>
          </iframe>
        </div>

        <!-- Overview and details -->
        <h2>Project Overview</h2>
        <div class="grid">
          <section class="section-card">
            <h3>High level description</h3>
            <p>
              In a real ICU, nurses rely on call buttons and alarm systems that cannot lag or freeze.
              This project is a small simulation of that idea. A nurse button triggers an emergency,
              and a real-time task set decides how the rest of the system reacts.
            </p>
            <p>
              The main goal is to show how you can build a system where the most important work
              always gets CPU time on schedule, instead of being delayed by less critical tasks.
            </p>
          </section>

          <section class="section-card">
            <h3>What this demo focuses on</h3>
            <p>
              The application highlights:
            </p>
            <p class="key-roles">
              <strong>Emergency signaling</strong> using an interrupt and a binary semaphore<br>
              <strong>Shared system state</strong> with a global emergency flag<br>
              <strong>Periodic hard real time checks</strong> that must run on a fixed schedule<br>
              <strong>Background logging</strong> as a soft real time task
            </p>
          </section>
        </div>

        <!-- System behavior -->
        <h2>How the System Works</h2>

        <section class="section-card">
          <h3>From button press to system-wide emergency</h3>
          <p>
            The nurse button is wired to a GPIO pin that triggers an interrupt on the falling edge.
            When the button is pressed, an Interrupt Service Routine runs right away. To keep the
            interrupt short and predictable, it does not handle the emergency logic itself.
            Instead, it gives a binary semaphore named <strong>sem_emergency</strong>.
          </p>
          <p>
            The <strong>EmergencyTask</strong> waits on this semaphore. When the interrupt signals it,
            The task wakes up and toggles a shared flag called <strong>system_emergency</strong>.
            This flag is the simple way the rest of the program can tell whether the ICU is in a
            normal state or an emergency state.
          </p>
        </section>

        <section class="section-card">
          <h3>Hard real time alarm evaluation</h3>
          <p>
            The <strong>AlarmEvalTask</strong> runs every 50 milliseconds. It reads simulated patient
            vital signs from a queue and also checks the <strong>system_emergency</strong> flag.
            Using that information, it updates LEDs to show the current status.
          </p>
          <p>
            This task is treated as a hard real-time task. That means its 50-millisecond period is a
            deadline, not a suggestion. The scheduler must make sure this task runs often enough so
            that serious changes in vitals or emergency events are never missed.
          </p>
        </section>

        <section class="section-card">
          <h3>Soft real time logging</h3>
          <p>
            A separate <strong>StatusLoggerTask</strong> runs every 1000 milliseconds.
            It prints or records the current system state, such as whether the system
            is in emergency mode, and what the recent vitals looked like.
          </p>
          <p>
            This task is soft real-time. If it runs a little late sometimes, the system
            still functions correctly. This makes it a good example of work that can give
            up strict timing, so more critical tasks can run on time.
          </p>
        </section>

        <!-- About this site -->
        <h2>About This Site</h2>
        <p>
          This page was created for Application 6 to practice sharing a real-time systems project
          through GitHub Pages. The workflow included:
        </p>
        <p>
          creating a repository, enabling GitHub Pages, writing a simple HTML project page, and
          embedding a YouTube demo with an iframe.
        </p>
        <p>
          In the future, this site could grow into a full project page with code links, diagrams,
          timing analysis, and a deeper explanation of the design decisions behind the ICU
          nurse call simulation.
        </p>

        <footer>
          Application 6 · Real Time Systems · ICU Nurse Call Simulation
        </footer>
      </main>
    </div>
  </body>
</html>
